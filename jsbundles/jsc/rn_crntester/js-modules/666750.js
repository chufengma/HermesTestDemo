__d(function(g,r,i,a,m,e,d){'use strict';var t=30,n=(function(t){function n(t){var o;return r(d[1])(this,n),(o=r(d[2])(this,r(d[3])(n).call(this)))._onLongPress=o._onLongPress.bind(r(d[4])(o)),o._toggleIsActive=o._toggleIsActive.bind(r(d[4])(o)),o.state={isActive:!1,pan:new(r(d[5]).Animated.ValueXY),pop:new(r(d[5]).Animated.Value)(0)},o}return r(d[0])(n,t),r(d[6])(n,[{key:"_onLongPress",value:function(){var t=this,n={tension:40,friction:3};this.state.pan.addListener(function(n){t.props.onMove&&t.props.onMove(n)}),r(d[5]).Animated.spring(this.state.pop,r(d[7])({toValue:1},n)).start(),this.setState({panResponder:r(d[5]).PanResponder.create({onPanResponderMove:r(d[5]).Animated.event([null,{dx:this.state.pan.x,dy:this.state.pan.y}]),onPanResponderRelease:function(o,s){r(d[5]).LayoutAnimation.easeInEaseOut(),r(d[5]).Animated.spring(t.state.pop,r(d[7])({toValue:0},n)).start(),t.setState({panResponder:void 0}),t.props.onMove&&t.props.onMove({x:s.dx+t.props.restLayout.x,y:s.dy+t.props.restLayout.y}),t.props.onDeactivate(),t.state.pan.removeAllListeners()}})},function(){t.props.onActivate()})}},{key:"render",value:function(){var t,n=this,o=null;this.state.panResponder?(t=this.state.panResponder.panHandlers,o=r(d[7])({position:'absolute'},this.state.pan.getLayout())):t={onStartShouldSetResponder:function(){return!n.state.isActive},onResponderGrant:function(){n.state.pan.setValue({x:0,y:0}),n.state.pan.setOffset(n.props.restLayout),n.longTimer=setTimeout(n._onLongPress,300)},onResponderRelease:function(){n.state.panResponder||(clearTimeout(n.longTimer),n._toggleIsActive())}};var s={shadowOpacity:this.state.pop,transform:[{scale:this.state.pop.interpolate({inputRange:[0,1],outputRange:[1,1.3]})}]},u=this.props.openVal,l=null;return this.props.dummy?s.opacity=0:this.state.isActive&&(l=[p.open,{left:u.interpolate({inputRange:[0,1],outputRange:[this.props.restLayout.x,0]}),top:u.interpolate({inputRange:[0,1],outputRange:[this.props.restLayout.y,0]}),width:u.interpolate({inputRange:[0,1],outputRange:[80,this.props.containerLayout.width]}),height:u.interpolate({inputRange:[0,1],outputRange:[80,this.props.containerLayout.height]}),margin:u.interpolate({inputRange:[0,1],outputRange:[18,0]}),borderRadius:u.interpolate({inputRange:[-.15,0,.5,1],outputRange:[0,40,104,0]})}]),r(d[8]).createElement(r(d[5]).Animated.View,r(d[9])({onLayout:this.props.onLayout,style:[p.dragView,o,s,this.state.isActive?p.open:null]},t),r(d[8]).createElement(r(d[5]).Animated.View,{style:[p.circle,l]},r(d[8]).createElement(r(d[10]),{containerLayout:this.props.containerLayout,id:this.props.id,isActive:this.state.isActive,openVal:this.props.openVal,onDismiss:this._toggleIsActive})))}},{key:"_toggleIsActive",value:function(t){var n=this,o={tension:30,friction:7};this.state.isActive?r(d[5]).Animated.spring(this.props.openVal,r(d[7])({toValue:0},o)).start(function(){n.setState({isActive:!1},n.props.onDeactivate)}):(this.props.onActivate(),this.setState({isActive:!0,panResponder:void 0},function(){r(d[5]).Animated.spring(n.props.openVal,r(d[7])({toValue:1},o)).start()}))}}]),n})(r(d[8]).Component),o=(function(o){function u(n){var o;r(d[1])(this,u),o=r(d[2])(this,r(d[3])(u).call(this,n));for(var s=[],p=0;p<t;p++)s.push('E'+p);return o.state={keys:s,restLayouts:[],openVal:new(r(d[5]).Animated.Value)(0)},o._onMove=o._onMove.bind(r(d[4])(o)),o}return r(d[0])(u,o),r(d[6])(u,[{key:"render",value:function(){var t=this,o=this.state.keys.map(function(o,s){if(o===t.state.activeKey)return r(d[8]).createElement(n,{key:o+'d',dummy:!0});var p=null;return t.state.restLayouts[s]||(p=function(t,n){var o=n.nativeEvent.layout;this.setState(function(n){return n.restLayouts[t]=o,n})}.bind(t,s)),r(d[8]).createElement(n,{key:o,id:o,openVal:t.state.openVal,onLayout:p,restLayout:t.state.restLayouts[s],onActivate:t.setState.bind(t,{activeKey:o,activeInitialLayout:t.state.restLayouts[s]})})});return this.state.activeKey&&(o.push(r(d[8]).createElement(r(d[5]).Animated.View,{key:"dark",style:[p.darkening,{opacity:this.state.openVal}]})),o.push(r(d[8]).createElement(n,{openVal:this.state.openVal,key:this.state.activeKey,id:this.state.activeKey,restLayout:this.state.activeInitialLayout,containerLayout:this.state.layout,onMove:this._onMove,onDeactivate:function(){t.setState({activeKey:void 0})}}))),r(d[8]).createElement(r(d[5]).View,{style:p.container},r(d[8]).createElement(r(d[5]).View,{style:p.grid,onLayout:function(n){return t.setState({layout:n.nativeEvent.layout})}},o))}},{key:"_onMove",value:function(t){var n=s(this.state,t);n!==this.state.keys&&(r(d[5]).LayoutAnimation.easeInEaseOut(),this.setState({keys:n}))}}]),u})(r(d[8]).Component);function s(t,n){var o=t.activeKey,s=t.keys,p=t.restLayouts,u=-1,l=1/0,c=[];return s.forEach(function(t,s){var h,y,v,f,A=(h=n,y=p[s],v=h.x-y.x,f=h.y-y.y,v*v+f*f);t===o?s=-1:c.push(t),A<l&&(l=A,u=s)}),-1===u?s:(c.splice(u,0,o),c)}var p=r(d[5]).StyleSheet.create({container:{flex:1},grid:{flex:1,justifyContent:'center',flexDirection:'row',flexWrap:'wrap',backgroundColor:'transparent'},circle:{width:80,height:80,borderRadius:40,borderWidth:1,borderColor:'black',margin:18,overflow:'hidden'},dragView:{shadowRadius:10,shadowColor:'rgba(0,0,0,0.7)',shadowOffset:{height:8},alignSelf:'flex-start',backgroundColor:'transparent'},open:{position:'absolute',left:0,top:0,right:0,bottom:0,width:void 0,height:void 0,borderRadius:0},darkening:{backgroundColor:'black',position:'absolute',left:0,top:0,right:0,bottom:0}});e.title='Animated - Gratuitous App',e.description='Bunch of Animations - tap a circle to open a view with more animations, or longPress and drag to reorder circles.',e.examples=[{title:'And example app',render:function(){return r(d[8]).createElement(o,null)}}]},666750,[614,616,617,620,619,516,621,625,514,622,666751]);