__d(function(g,r,i,a,m,e,d){'use strict';function t(t){for(var n=r(d[0])();r(d[0])()<n+t;);}var n=(function(n){function l(){var n,s;r(d[2])(this,l);for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return(s=r(d[3])(this,(n=r(d[4])(l)).call.apply(n,[this].concat(o)))).state={message:'-'},s._idleTimer=null,s._iters=0,s._runWithTimeout=function(){null!=s._idleTimer&&(cancelIdleCallback(s._idleTimer),s._idleTimer=null),s._idleTimer=requestIdleCallback(function(t){s.setState({message:t.timeRemaining()+"ms remaining in frame, it did timeout: "+(t.didTimeout?'yes':'no')})},{timeout:100}),t(100)},s._runBackground=function(){null!=s._idleTimer&&(cancelIdleCallback(s._idleTimer),s._idleTimer=null);s._idleTimer=requestIdleCallback(function n(l){for(;l.timeRemaining()>5;)t(5),s.setState({message:"Burned CPU for 5ms "+s._iters+++" times, "+l.timeRemaining()+"ms remaining in frame"});s._idleTimer=requestIdleCallback(n)})},s._stopBackground=function(){s._iters=0,null!=s._idleTimer&&(cancelIdleCallback(s._idleTimer),s._idleTimer=null)},s}return r(d[1])(l,n),r(d[5])(l,[{key:"componentWillUnmount",value:function(){null!=this._idleTimer&&(cancelIdleCallback(this._idleTimer),this._idleTimer=null)}},{key:"render",value:function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(r(d[8]),{onPress:this._run.bind(this,!1)},"Run requestIdleCallback"),r(d[6]).createElement(r(d[8]),{onPress:this._run.bind(this,!0)},"Burn CPU inside of requestIdleCallback"),r(d[6]).createElement(r(d[8]),{onPress:this._runWithTimeout},"Run requestIdleCallback with timeout option"),r(d[6]).createElement(r(d[8]),{onPress:this._runBackground},"Run background task"),r(d[6]).createElement(r(d[8]),{onPress:this._stopBackground},"Stop background task"),r(d[6]).createElement(r(d[7]).Text,null,this.state.message))}},{key:"_run",value:function(n){var l=this;null!=this._idleTimer&&(cancelIdleCallback(this._idleTimer),this._idleTimer=null),this._idleTimer=requestIdleCallback(function(s){var u='';n&&(t(10),u='Burned CPU for 10ms,'),l.setState({message:u+" "+s.timeRemaining()+"ms remaining in frame"})})}}]),l})(r(d[6]).Component),l=(function(t){function n(){var t,l;r(d[2])(this,n);for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return(l=r(d[3])(this,(t=r(d[4])(n)).call.apply(t,[this].concat(u))))._ii=0,l._iters=0,l._start=0,l._timerId=null,l._rafId=null,l._intervalId=null,l._immediateId=null,l._timerFn=null,l._run=function(){if(!l._start){var t=new Date;l._start=t.getTime(),l._iters=100,l._ii=0,'setTimeout'===l.props.type?(void 0!==l.props.dt&&l.props.dt<1?l._iters=5e3:void 0!==l.props.dt&&l.props.dt>20&&(l._iters=10),l._timerFn=function(){l._timerId=setTimeout(l._run,l.props.dt)}):'requestAnimationFrame'===l.props.type?l._timerFn=function(){l._rafId=requestAnimationFrame(l._run)}:'setImmediate'===l.props.type?(l._iters=5e3,l._timerFn=function(){l._immediateId=setImmediate(l._run)}):'setInterval'===l.props.type&&(l._iters=30,l._timerFn=null,l._intervalId=setInterval(l._run,l.props.dt))}if(l._ii>=l._iters&&null==l._intervalId){var n=(new Date).getTime()-l._start,s='Finished '+l._ii+' '+l.props.type+" calls.\nElapsed time: "+n+' ms\n'+n/l._ii+' ms / iter';return r(d[7]).Alert.alert(s),l._start=0,void l.forceUpdate(function(){l._ii=0})}l._ii++,l._ii%(l._iters/5)==0&&l.forceUpdate(),l._timerFn&&(l._timerId=l._timerFn())},l.clear=function(){null!=l._intervalId&&(clearInterval(l._intervalId),l._intervalId=null,l._iters=l._ii,l._run())},l}return r(d[1])(n,t),r(d[5])(n,[{key:"render",value:function(){var t='fn'+(void 0!==this.props.dt?', '+this.props.dt:'');return r(d[6]).createElement(r(d[8]),{onPress:this._run},"Measure: ",this.props.type,"(",t,") - ",this._ii||0)}},{key:"componentWillUnmount",value:function(){null!=this._timerId&&(clearTimeout(this._timerId),this._timerId=null),null!=this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null),null!=this._immediateId&&(clearImmediate(this._immediateId),this._immediateId=null),null!=this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)}}]),n})(r(d[6]).Component);e.framework='React',e.title='Timers',e.description='A demonstration of Timers in React Native.',e.examples=[{title:'this.setTimeout(fn, t)',description:"Execute function fn t milliseconds in the future.  If t === 0, it will be enqueued immediately in the next event loop.  Larger values will fire on the closest frame.",render:function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(l,{type:"setTimeout",dt:0}),r(d[6]).createElement(l,{type:"setTimeout",dt:1}),r(d[6]).createElement(l,{type:"setTimeout",dt:100}))}},{title:'this.requestAnimationFrame(fn)',description:'Execute function fn on the next frame.',render:function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(l,{type:"requestAnimationFrame"}))}},{title:'this.requestIdleCallback(fn)',description:'Execute function fn on the next JS frame that has idle time',render:function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(n,null))}},{title:'this.setImmediate(fn)',description:'Execute function fn at the end of the current JS event loop.',render:function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(l,{type:"setImmediate"}))}},{title:'this.setInterval(fn, t)',description:"Execute function fn every t milliseconds until cancelled or component is unmounted.",render:function(){var t=(function(t){function n(){var t,s;r(d[2])(this,n);for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return(s=r(d[3])(this,(t=r(d[4])(n)).call.apply(t,[this].concat(o)))).state={showTimer:!0},s._renderTimer=function(){return r(d[6]).createElement(r(d[7]).View,null,r(d[6]).createElement(l,{ref:function(t){return s._timerTester=t},dt:25,type:"setInterval"}),r(d[6]).createElement(r(d[8]),{onPress:function(){return s._timerTester&&s._timerTester.clear()}},"Clear interval"))},s._toggleTimer=function(){s.setState({showTimer:!s.state.showTimer})},s}return r(d[1])(n,t),r(d[5])(n,[{key:"render",value:function(){return r(d[6]).createElement(r(d[7]).View,null,this.state.showTimer&&this._renderTimer(),r(d[6]).createElement(r(d[8]),{onPress:this._toggleTimer},this.state.showTimer?'Unmount timer':'Mount new timer'))}}]),n})(r(d[6]).Component);return r(d[6]).createElement(t,null)}}]},666787,[60,614,616,617,620,621,514,516,666749]);